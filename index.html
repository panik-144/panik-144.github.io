<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Dateien im Repo</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .file { margin-left: 20px; }
    </style>
</head>
<body>
<h1>Dateien im Repo</h1>
<div id="tree"></div>

<script>
async function loadTree(path = "") {
    const user = "panik-144";   // <--- anpassen
    const repo = "panik-144.github.io";       // <--- anpassen
    const branch = "main";     // oder "master"

    const url = `https://api.github.com/repos/${user}/${repo}/contents/${path}?ref=${branch}`;
    const res = await fetch(url);

    if (!res.ok) {
        document.getElementById("tree").innerHTML = 
            "Fehler beim Laden: " + res.status;
        return;
    }

    const items = await res.json();

    const container = document.createElement("div");

    for (const item of items) {
        const el = document.createElement("div");
        el.className = "file";

        if (item.type === "file") {
            el.textContent = "ðŸ“„ " + item.name;
        } else if (item.type === "dir") {
            el.textContent = "ðŸ“ " + item.name;

            // rekursiv weitere level laden
            const sub = await loadTree(item.path);
            if (sub) el.appendChild(sub);
        }

        container.appendChild(el);
    }
    return container;
}

loadTree().then(tree => {
    document.getElementById("tree").appendChild(tree);
});
</script>
</body>
</html>
